<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="./lib/vue-2.4.0.js"></script>
    <!--
      当导入路由的 js 包，浏览器内存中会多出一个 VueRouter 的构造函数，可以通过此函数来创建路由的匹配规则
    -->
    <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
  </head>

  <body>
    <div id="app">
      <!-- 默认是渲染成 a 标签 -->
      <!-- 当路由有参数绑定的时候，设置路由的时候也需要指定对应的参数 -->
      <router-link to="/login/张三/13">登录</router-link>

      <!-- 当追加查询字符串参数的时候，不要再路由规则 routes path 中添加额外的的参数 -->
      <router-link to="/register?email=123@qq.com&gender=man">注册</router-link>
      <!-- 相当于渲染成以下组件 -->
      <a href="#/login"> 登录</a> <a href="#/register"> 注册</a>

      <!-- router-view 组件是路由匹配的占位符 -->
      <!-- 当匹配到对应的路由时，路由匹配的内容会替换view-router, -->
      <!-- router-view 相当于路由匹配存放内容的容器 -->
      <router-view></router-view>
    </div>
  </body>
  <script>
    var login = {
      // 获取到路由匹配的参数
      // {{$route.params.***}}
      template:
        "<h1>登录组件-姓名：{{$route.params.name}} - 年龄：{{$route.params.age}}</h1>"
    };

    var register = {
      // 获取 url？后面的查询字符串参数
      // $route.query.***
      template:
        "<h1>注册组件-邮箱：{{$route.query.email}} - 性别:{{$route.query.gender}}</h1>"
    };

    const router = new VueRouter({
      routes: [
        // {path: 匹配的路径, component: 匹配的组件}
        // 绑定路由参数
        { path: "/login/:name/:age", component: login },
        { path: "/register", component: register }
      ]
    });
    var vm = new Vue({
      el: "#app",
      //  需要把路由队形挂载到 Vue 实例身上，这样 vue 才会感知 URL 的变换，从而展示对应的组件内容
      router: router
    });
  </script>
</html>
